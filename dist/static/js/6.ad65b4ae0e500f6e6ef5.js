webpackJsonp([6],{"8UQG":function(t,e){},HHIx:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Dd8w"),d=i.n(s),n=i("woOf"),a=i.n(n),c=i("3+Wo"),o={name:"index",props:{addSite:{type:Object,default:this.addSites}},data:function(){return{options:[],CityList:[],city:[],district:[],town:[],addSites:{cityId:"",cityName:"",provinceId:"",provinceName:"",townId:"",townName:"",districtId:"",districtName:""}}},mounted:function(){this.getCityList()},methods:{getCityList:function(){var t=this;this.$axios.post("city/getCityList",{token:t.token}).then(function(e){1e3==e.code&&(t.CityList=e.data)}).catch(function(t){console.log(t)})},ProvinceSelect:function(t){var e;e=this.CityList.find(function(e){return e.province.provinceId===t}),this.addSite.cityId="",this.addSite.districtId="",this.addSite.townId="",this.district=[],this.town=[],this.addSite.provinceId=t,this.addSite.provinceName=e.province.name,this.city=e.province.cities},CitySelect:function(t){var e;e=this.city.find(function(e){return e.cityId===t}),this.addSite.districtId="",this.addSite.townId="",this.addSite.cityId=t,this.addSite.cityName=e.name,this.district=e.districts},districtSelect:function(t){var e,i=this;e=this.district.find(function(e){return e.districtId===t}),this.addSite.townId="",this.addSite.districtId=t,this.addSite.districtName=e.name,this.$axios.post("city/getTowns",{districtId:t}).then(function(t){1e3==t.code&&(i.town=t.data)}).catch(function(t){console.log(t)})},townSelect:function(t){var e;e=this.town.find(function(e){return e.id===t}),this.addSite.townId=t,this.addSite.townName=e.name,this.$emit("func",this.addSite)}},watch:{city:{handler:function(t,e){},deep:!0},district:{handler:function(t,e){},deep:!0},town:{handler:function(t,e){},deep:!0}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-form-item",{attrs:{label:"所在地区"}},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:t.ProvinceSelect},model:{value:t.addSite.provinceId,callback:function(e){t.$set(t.addSite,"provinceId",e)},expression:"addSite.provinceId"}},t._l(t.CityList,function(t){return i("el-option",{key:t.province.name,attrs:{label:t.province.name,value:t.province.provinceId}})}),1),t._v(" "),i("el-select",{attrs:{placeholder:"请选择"},on:{change:t.CitySelect},model:{value:t.addSite.cityName,callback:function(e){t.$set(t.addSite,"cityName",e)},expression:"addSite.cityName"}},t._l(t.city,function(t){return i("el-option",{key:t.cityId,attrs:{label:t.name,value:t.cityId}})}),1),t._v(" "),i("el-select",{attrs:{placeholder:"请选择"},on:{change:t.districtSelect},model:{value:t.addSite.districtName,callback:function(e){t.$set(t.addSite,"districtName",e)},expression:"addSite.districtName"}},t._l(t.district,function(t){return i("el-option",{key:t.districtId,attrs:{label:t.name,value:t.districtId}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"所在街道"}},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:t.townSelect},model:{value:t.addSite.townName,callback:function(e){t.$set(t.addSite,"townName",e)},expression:"addSite.townName"}},t._l(t.town,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)],1)},staticRenderFns:[]};var l=i("VU/8")(o,r,!1,function(t){i("8UQG")},"data-v-0275ed9e",null).exports,u={name:"getAddress",data:function(){return{addOff:!0,userName:"地址管理",userNames:"新增地址",token:sessionStorage.getItem("token"),AddressList:[],addSite:{token:sessionStorage.getItem("token"),status:0,receiveName:"",mobile:"",address:""},editAddress:{},siteData:{}}},mounted:function(){this.getAddress()},methods:{addressAdd:function(){this.addOff=!1,this.editAddress={},this.addSite={}},AddressaEdit:function(t,e){console.log(t),this.addOff=!1,this.editAddress=a()({},t),this.addSite=a()({},t)},addressDel:function(t,e){var i=this,s=this;this.$confirm("确定要删除地址?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$axios.post("address/addressDel",{token:s.token,addressId:t}).then(function(t){console.log(t),1e3==t.code&&(s.AddressList.splice(e,1),i.$message({type:"success",message:"删除成功!"}))}).catch(function(t){console.log(t)})}).catch(function(){i.$message({type:"info",message:"已取消删除"})})},getMsgFormSon:function(t){this.siteData=t},newAddrAxios:function(){var t=this,e=d()({},this.siteData,this.addSite);this.$axios.post("address/addressAdd",e).then(function(e){console.log(e),1e3==e.code&&t.getAddress()}).catch(function(t){console.log(t)})},getAddress:function(){var t=this;this.$axios.post("address/addressList",{token:t.token}).then(function(e){1e3==e.code&&(t.AddressList=e.data)}).catch(function(t){console.log(t)})}},watch:{editAddress:{handler:function(t,e){},deep:!0}},components:{userTitle:c.a,addressSelect:l}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"adderssList"},[i("user-title",{attrs:{title:t.userName}}),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"existence_addr"},t._l(t.AddressList,function(e,s){return i("div",{staticClass:"existence_div"},[i("span",{staticClass:"existence_name"},[t._v(t._s(e.receiveName))]),t._v(" "),i("span",{staticClass:"existence_addr"},[t._v(t._s(e.provinceName)+t._s(e.cityName)+t._s(e.districtName)+t._s(e.townName))]),t._v(" "),i("span",{staticClass:"existence_phone"},[t._v(" "+t._s(e.mobile.substr(0,3)+"****"+e.mobile.substr(7)))]),t._v(" "),i("div",{staticClass:"existence_div_in"},[i("span",{staticClass:"existence_cy ",class:1==e.status?"existence_cy_on":" "},[t._v(t._s(1==e.status?"常用地址":"设为常用地址"))]),t._v(" "),i("span",{on:{click:function(i){return t.AddressaEdit(e,s)}}},[t._v("编辑")]),t._v(" "),i("span",{staticClass:"existence_del",on:{click:function(i){return t.addressDel(e.id,s)}}},[t._v("删除")])])])}),0),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.addOff,expression:"addOff"}],staticClass:"add_btn",on:{click:t.addressAdd}},[t._v("新增收货地址")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.addOff,expression:"!addOff"}],staticClass:"new_addr",attrs:{id:"new_addr"}},[i("user-title",{attrs:{title:t.userNames}},[i("span",{staticClass:"cha",on:{click:function(e){t.addOff=!0}}},[t._v("×")])]),t._v(" "),i("el-form",{staticClass:"new_addr_WIDTH",attrs:{model:t.addSite,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"收货姓名"}},[i("el-input",{model:{value:t.addSite.receiveName,callback:function(e){t.$set(t.addSite,"receiveName",e)},expression:"addSite.receiveName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"手机号码"}},[i("el-input",{model:{value:t.addSite.mobile,callback:function(e){t.$set(t.addSite,"mobile",e)},expression:"addSite.mobile"}})],1),t._v(" "),i("address-select",{attrs:{addSite:t.editAddress},on:{func:t.getMsgFormSon}}),t._v(" "),i("el-form-item",{attrs:{label:"详细地址"}},[i("el-input",{model:{value:t.addSite.address,callback:function(e){t.$set(t.addSite,"address",e)},expression:"addSite.address"}})],1)],1),t._v(" "),i("div",{staticClass:"new_addr_btn",on:{click:t.newAddrAxios}},[t._v("\n      保存收货地址\n    ")])],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"addr_title"},[i("p",[t._v("您已创建\n      "),i("span",{staticClass:"num"},[t._v("2")]),t._v("\n      个地址，最多可以创建\n      "),i("span",{staticClass:"num_one"},[t._v(" 10")]),t._v("\n      个，购买课程的时候添加地址以便后期发送学习用具或精美礼品！请前往"),i("span",{staticClass:"num_two"},[t._v("【全站通VIP】 ")]),t._v(" "),i("a",{attrs:{href:"vip.html"}},[t._v(" 点击跳转")])])])}]};var f=i("VU/8")(u,v,!1,function(t){i("Re4Y")},"data-v-8a2ed2d0",null);e.default=f.exports},Re4Y:function(t,e){}});
//# sourceMappingURL=6.ad65b4ae0e500f6e6ef5.js.map