webpackJsonp([9],{"5LZ5":function(a,e){},kCg9:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"user",data:function(){return{userName:"更换头像",userName1:"基础信息",options:[{value:"0",label:"小升初"},{value:"1",label:"七年级"},{value:"2",label:"八年级"},{value:"3",label:"九年级"},{value:"4",label:"高一"},{value:"5",label:"高二"},{value:"6",label:"高三"}],avatar:this.$store.getters.headImg,phone:"",userData:{token:sessionStorage.getItem("token"),grade:"",sex:"",nickname:""},save:!1}},mounted:function(){this.getUserInfo()},methods:{updateOthers:function(){var a=this;this.$axios.post("user/updateOthers",a.userData).then(function(e){a.save=!1,a.$store.commit("getNickname",a.userData.nickname)}).catch(function(a){console.log(a)})},getUserInfo:function(){var a=this;this.$axios.post("user/getUserInfo",{token:sessionStorage.getItem("token")}).then(function(e){a.userData.grade=String(e.data.grade),a.userData.sex=String(e.data.sex),a.userData.nickname=e.data.nickname,a.phone=e.data.mobile.substring(0,3)+"****"+e.data.mobile.substring(7,11)}).catch(function(a){console.log(a)})},changeImage:function(a){var e=this,t=a.target.files[0];if(t&&window.FileReader&&/^image/.test(t.type)){var s=new FileReader;s.readAsDataURL(t),s.onloadend=function(){e.avatar=this.result,e.$store.commit("getHeadImg",this.result)}}}},components:{userTitle:t("3+Wo").a}},i={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{},[t("user-title",{attrs:{title:a.userName}}),a._v(" "),t("div",{staticClass:"my-photo"},[t("div",{staticClass:"my-photo-div"},[t("img",{staticClass:"my-photo-img",attrs:{src:a.avatar,alt:""}}),a._v(" "),t("p",[a._v("大尺寸头像（88*88像素）")])]),a._v(" "),t("div",{staticClass:"my-photo-div"},[t("img",{staticClass:"my-photo-img img_sm",attrs:{src:a.avatar,alt:""}}),a._v(" "),t("p",[a._v("小尺寸头像（50*50像素）")])]),a._v(" "),t("div",{staticClass:"my-photo-div"},[t("div",{staticClass:"my-photo-div-btn"},[t("span",[a._v("上传头像")]),a._v(" "),t("input",{staticClass:"file_btn_img",attrs:{type:"file",accept:"image/png,image/jpg"},on:{change:function(e){return a.changeImage(e)}}})]),a._v(" "),t("p",[a._v("支持JPG、PNG格式的图片，且文件少于2M")]),a._v(" "),t("p",[a._v("点击上传按钮上传头像")])])]),a._v(" "),t("user-title",{attrs:{title:a.userName1}}),a._v(" "),t("div",{staticClass:"userInfo"},[t("div",{staticClass:"userInfo-div"},[t("b",{staticClass:"x"},[a._v("*")]),a._v(" "),t("span",[a._v("学生姓名")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.userData.nickname,expression:"userData.nickname"}],attrs:{type:"text",maxlength:"10",id:"name"},domProps:{value:a.userData.nickname},on:{input:function(e){e.target.composing||a.$set(a.userData,"nickname",e.target.value)}}})]),a._v(" "),t("div",{staticClass:"userInfo-div"},[t("b",{staticClass:"x"},[a._v("*")]),a._v(" "),t("span",[a._v("联系电话")]),a._v(" "),t("span",{staticClass:"span-ml"},[a._v(a._s(a.phone))])]),a._v(" "),t("div",{staticClass:"userInfo-div"},[t("b",{staticClass:"x"},[a._v("*")]),a._v(" "),t("span",[a._v("性别")]),a._v(" "),t("span",{staticClass:"span-ml"},[t("el-radio",{attrs:{label:"0"},model:{value:a.userData.sex,callback:function(e){a.$set(a.userData,"sex",e)},expression:"userData.sex"}},[a._v("男同学")]),a._v(" "),t("el-radio",{attrs:{label:"1"},model:{value:a.userData.sex,callback:function(e){a.$set(a.userData,"sex",e)},expression:"userData.sex"}},[a._v("女同学")])],1)]),a._v(" "),t("div",{staticClass:"userInfo-div"},[t("b",{staticClass:"x"},[a._v("*")]),a._v(" "),t("span",[a._v("年级")]),a._v(" "),t("span",{staticClass:"span-ml"},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:a.userData.grade,callback:function(e){a.$set(a.userData,"grade",e)},expression:"userData.grade"}},a._l(a.options,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}),1)],1)]),a._v(" "),t("div",{staticClass:"userInfo-div"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!a.save,expression:"!save"}],staticClass:"userInfo-div-btn",on:{click:function(e){a.save=!0}}},[a._v("编辑")]),a._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:a.save,expression:"save"}],staticClass:"userInfo-div-btn in_btn",on:{click:a.updateOthers}},[a._v("保存")])])])],1)},staticRenderFns:[]};var n=t("VU/8")(s,i,!1,function(a){t("5LZ5")},"data-v-7f9aed2c",null);e.default=n.exports}});
//# sourceMappingURL=9.b29aeaf2205701e632ad.js.map